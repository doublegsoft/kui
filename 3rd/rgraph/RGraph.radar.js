
RGraph=window.RGraph||{isrgraph:true,isRGraph:true,rgraph:true};RGraph.Radar=function(conf)
{if(typeof conf.data[0]==='number'||typeof conf.data[0]==='string'){conf.data=[conf.data];}
this.id=conf.id;this.canvas=document.getElementById(conf.id);this.context=this.canvas.getContext?this.canvas.getContext("2d"):null;this.canvas.__object__=this;this.type='radar';this.isRGraph=true;this.isrgraph=true;this.rgraph=true;this.data=[];this.max=0;this.uid=RGraph.createUID();this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.createUID();this.colorsParsed=false;this.coords=[];this.coordsText=[];this.original_data=[];this.original_colors=[];this.firstDraw=true;for(var i=0,len=conf.data.length;i<len;++i){for(var j=0;j<conf.data[i].length;++j){if(typeof conf.data[i][j]==='string'){conf.data[i][j]=parseFloat(conf.data[i][j]);}}
this.original_data.push(RGraph.arrayClone(conf.data[i]));this.data.push(RGraph.arrayClone(conf.data[i]));this.max=Math.max(this.max,RGraph.arrayMax(conf.data[i]));}
this.properties={marginLeft:35,marginRight:35,marginTop:35,marginBottom:35,linewidth:1,colorsStroke:'#aaa',colors:['rgba(255,0,0,0.75)','rgba(0,255,255,0.25)','rgba(255,0,0,0.5)','red','green','blue','pink','aqua','brown','orange','grey'],colorsAlpha:null,circle:0,circleFill:'red',circleStroke:'black',labels:[],labelsFont:null,labelsSize:null,labelsColor:null,labelsBold:null,labelsSize:null,labelsOffset:10,labelsAxes:'',labelsBackgroundFill:'white',labelsBoxed:false,labelsAxesFont:null,labelsAxesSize:null,labelsAxesColor:null,labelsAxesBold:null,labelsAxesItalic:null,labelsAxesBoxed:null,labelsAxesBoxedZero:true,labelsAxesBoxedBackground:'rgba(255,255,255,0.7)',labelsAxesSpecific:null,labelsAxesCount:5,backgroundCircles:true,backgroundCirclesCount:null,backgroundCirclesColor:'#ddd',backgroundCirclesPoly:true,backgroundCirclesSpokes:24,textSize:12,textFont:'Arial, Verdana, sans-serif',textColor:'black',textBold:false,textItalic:false,textAccessible:true,textAccessibleOverflow:'visible',textAccessiblePointerevents:false,title:'',titleBackground:null,titleHpos:null,titleVpos:null,titleColor:null,titleBold:null,titleItalic:null,titleSize:null,titleFont:null,titleX:null,titleY:null,titleHalign:null,titleValign:null,linewidth:1,key:null,keyBackground:'white',keyShadow:false,keyShadowColor:'#666',keyShadowBlur:3,keyShadowOffsetx:2,keyShadowOffsety:2,keyPosition:'graph',keyHalign:'right',keyPositionGutterBoxed:false,keyPositionX:null,keyPositionY:null,keyColorShape:'square',keyRounded:true,keyLinewidth:1,keyColors:null,keyInteractive:false,keyInteractiveHighlightChartStroke:'rgba(255,0,0,0.3)',keyInteractiveHighlightLabel:'rgba(255,0,0,0.2)',keyLabelsColor:null,keyLabelsFont:null,keyLabelsSize:null,keyLabelsBold:null,keyLabelsItalic:null,keyLabelsOffsetx:0,keyLabelsOffsety:0,contextmenu:null,annotatable:false,annotateColor:'black',annotateLinewidth:1,tooltips:null,tooltipsEvent:'mousemove',tooltipsEffect:'fade',tooltipsCssClass:'RGraph_tooltip',tooltipsCss:null,tooltipsHighlight:true,tooltipsNohideonclear:false,tooltipsFormattedThousand:',',tooltipsFormattedPoint:'.',tooltipsFormattedDecimals:0,tooltipsFormattedUnitsPre:'',tooltipsFormattedUnitsPost:'',tooltipsFormattedKeyColors:null,tooltipsFormattedKeyColorsShape:'square',tooltipsFormattedKeyLabels:[],tooltipsFormattedTableHeaders:null,tooltipsFormattedTableData:null,tooltipsPointer:true,tooltipsPositionStatic:true,highlightStroke:'gray',highlightFill:'rgba(255,255,255,0.7)',highlightPointRadius:2,resizable:false,resizeHandleAdjust:[0,0],resizeHandleBackground:null,scaleMax:null,scaleDecimals:0,scalePoint:'.',scaleThousand:',',scaleUnitsPre:'',scaleUnitsPost:'',accumulative:false,radius:null,centerx:null,centery:null,radius:null,xaxisTickmarksCount:5,yaxisTickmarksCount:5,axesColor:'rgba(0,0,0,0)',highlights:false,highlightsStroke:'#ddd',highlightsFill:null,highlightsRadius:3,highlightStyleInvertStroke:'transparent',highlightStyleInvertFill:'rgba(255,255,255,0.7)',fillClick:null,fillMousemove:null,fillTooltips:null,fillHighlightFill:'rgba(255,255,255,0.7)',fillHighlightStroke:'rgba(0,0,0,0)',fillMousemoveRedraw:false,animationTraceClip:1,clearto:'rgba(0,0,0,0)'}
for(var dataset=0;dataset<this.data.length;++dataset){if(this.data[dataset].length<3){alert('[RADAR] You must specify at least 3 data points');return;}}
var idx=0;this.data_arr=[];for(var dataset=0;dataset<this.data.length;++dataset){for(var i=0,len=this.data[dataset].length;i<len;++i){this['$'+(idx++)]={};this.data_arr.push(this.data[dataset][i])}}
var properties=this.properties;this.path=RGraph.pathObjectFunction;if(RGraph.Effects&&typeof RGraph.Effects.decorate==='function'){RGraph.Effects.decorate(this);}
this.responsive=RGraph.responsive;this.set=function(name)
{var value=typeof arguments[1]==='undefined'?null:arguments[1];if(arguments.length===1&&typeof arguments[0]==='object'){for(i in arguments[0]){if(typeof i==='string'){this.set(i,arguments[0][i]);}}
return this;}
properties[name]=value;return this;};this.get=function(name)
{return properties[name];};this.draw=function()
{RGraph.fireCustomEvent(this,'onbeforedraw');if(!this.canvas.__rgraph_aa_translated__){this.context.translate(0.5,0.5);this.canvas.__rgraph_aa_translated__=true;}
this.coords=[];this.coords2=[];this.coordsText=[];this.data=RGraph.arrayClone(this.original_data);if(properties.accumulative){for(var i=0;i<this.data.length;++i){if(this.data[i].length!=this.data[0].length){alert('[RADAR] Error! When the radar has the accumulative option set to true all the datasets must have the same number of elements');}}}
if(RGraph.isNull(properties.labelsAxesBoxed)){properties.labelsAxesBoxed=[];for(var i=0;i<((RGraph.isArray(properties.labelsAxesSpecific)&&properties.labelsAxesSpecific.length)||properties.labelsAxesCount||5);++i){properties.labelsAxesBoxed[i]=false;}}
this.marginLeft=properties.marginLeft;this.marginRight=properties.marginRight;this.marginTop=properties.marginTop;this.marginBottom=properties.marginBottom;this.centerx=((this.canvas.width-this.marginLeft-this.marginRight)/2)+this.marginLeft;this.centery=((this.canvas.height-this.marginTop-this.marginBottom)/2)+this.marginTop;this.radius=Math.min(this.canvas.width-this.marginLeft-this.marginRight,this.canvas.height-this.marginTop-this.marginBottom)/2;if(typeof properties.centerx==='number')this.centerx=2*properties.centerx;if(typeof properties.centery==='number')this.centery=2*properties.centery;if(typeof properties.radius==='number')this.radius=properties.radius;if(!this.colorsParsed){this.parseColors();this.colorsParsed=true;}
if(!properties.scaleMax){if(properties.accumulative){var accumulation=[];var len=this.original_data[0].length
for(var i=1;i<this.original_data.length;++i){if(this.original_data[i].length!=len){alert('[RADAR] Error! Stacked Radar chart datasets must all be the same size!');}
for(var j=0;j<this.original_data[i].length;++j){this.data[i][j]+=this.data[i-1][j];this.max=Math.max(this.max,this.data[i][j]);}}}
this.scale2=RGraph.getScale({object:this,options:{'scale.max':typeof properties.scaleMax==='number'?properties.scaleMax:this.max,'scale.min':0,'scale.decimals':Number(properties.scaleDecimals),'scale.point':properties.scalePoint,'scale.thousand':properties.scaleThousand,'scale.round':properties.scaleRound,'scale.units.pre':properties.scaleUnitsPre,'scale.units.post':properties.scaleUnitsPost,'scale.labels.count':properties.labelsAxesCount}});this.max=this.scale2.max;}else{var ymax=properties.scaleMax;this.scale2=RGraph.getScale({object:this,options:{'scale.max':ymax,'scale.min':0,'scale.strict':true,'scale.decimals':Number(properties.scaleDecimals),'scale.point':properties.scalePoint,'scale.thousand':properties.scaleThousand,'scale.round':properties.scaleRound,'scale.units.pre':properties.scaleUnitsPre,'scale.units.post':properties.scaleUnitsPost,'scale.labels.count':properties.labelsAxesCount}});this.max=this.scale2.max;}
this.drawBackground();this.drawAxes();this.drawCircle();this.drawLabels();this.context.save();this.context.beginPath();this.context.arc(this.centerx,this.centery,this.radius*2,-RGraph.HALFPI,(RGraph.TWOPI*properties.animationTraceClip)-RGraph.HALFPI,false);this.context.lineTo(this.centerx,this.centery);this.context.closePath();this.context.clip();this.drawChart();this.drawHighlights();this.context.restore();this.drawAxisLabels();if(properties.title){RGraph.drawTitle(this,properties.title,this.marginTop,null,null)}
if(properties.key){RGraph.drawKey(this,properties.key,properties.colors);}
if(properties.contextmenu){RGraph.showContext(this);}
if(properties.resizable){RGraph.allowResizing(this);}
RGraph.installEventListeners(this);if((properties.fillClick||properties.fillMousemove||!RGraph.isNull(properties.fillTooltips))&&!this.__fill_click_listeners_installed__){this.addFillListeners();this.__fill_click_listeners_installed__=true;}
if(this.firstDraw){this.firstDraw=false;RGraph.fireCustomEvent(this,'onfirstdraw');this.firstDrawFunc();}
RGraph.fireCustomEvent(this,'ondraw');return this;};this.exec=function(func)
{func(this);return this;};this.drawBackground=function()
{var color=properties.backgroundCirclesColor;var poly=properties.backgroundCirclesPoly;var spacing=properties.backgroundCirclesSpacing;var spokes=properties.backgroundCirclesSpokes;this.context.lineWidth=1;if(properties.backgroundCircles&&poly==false){this.context.strokeStyle=color;this.context.beginPath();var numrings=typeof properties.backgroundCirclesCount=='number'?properties.backgroundCirclesCount:properties.labelsAxesCount;for(var r=0;r<=this.radius;r+=(this.radius/numrings)){this.context.moveTo(this.centerx,this.centery);this.context.arc(this.centerx,this.centery,r,0,RGraph.TWOPI,false);}
this.context.stroke();this.context.strokeStyle=color;for(var i=0;i<360;i+=(360/spokes)){this.context.beginPath();this.context.arc(this.centerx,this.centery,this.radius,(i/360)*RGraph.TWOPI,((i+0.001)/360)*RGraph.TWOPI,false);this.context.lineTo(this.centerx,this.centery);this.context.stroke();}}else if(properties.backgroundCircles&&poly==true){this.context.strokeStyle=color;var increment=360/this.data[0].length
for(var i=0;i<360;i+=increment){this.context.beginPath();this.context.arc(this.centerx,this.centery,this.radius,((i/360)*RGraph.TWOPI)-RGraph.HALFPI,(((i+0.001)/360)*RGraph.TWOPI)-RGraph.HALFPI,false);this.context.lineTo(this.centerx,this.centery);this.context.stroke();}
this.context.strokeStyle=color;var numrings=typeof properties.backgroundCirclesCount==='number'?properties.backgroundCirclesCount:properties.labelsAxesCount;for(var r=0;r<=this.radius;r+=(this.radius/numrings)){this.context.beginPath();for(var a=0;a<=360;a+=(360/this.data[0].length)){this.context.arc(this.centerx,this.centery,r,RGraph.toRadians(a)-RGraph.HALFPI,RGraph.toRadians(a)+0.001-RGraph.HALFPI,false);}
this.context.closePath();this.context.stroke();}}};this.drawAxes=function()
{this.context.strokeStyle=properties.axesColor;this.context.lineWidth=properties.axesLinewidth;var halfsize=this.radius;this.context.beginPath();this.context.moveTo(Math.round(this.centerx),this.centery+this.radius);this.context.lineTo(Math.round(this.centerx),this.centery-this.radius);this.context.moveTo(this.centerx-5,Math.round(this.centery+this.radius));this.context.lineTo(this.centerx+5,Math.round(this.centery+this.radius));this.context.moveTo(this.centerx-5,Math.round(this.centery-this.radius));this.context.lineTo(this.centerx+5,Math.round(this.centery-this.radius));for(var y=(this.centery-this.radius);y<(this.centery+this.radius);y+=(this.radius/properties.yaxisTickmarksCount)){this.context.moveTo(this.centerx-3,Math.round(y));this.context.lineTo(this.centerx+3,Math.round(y));}
this.context.moveTo(this.centerx-this.radius,Math.round(this.centery));this.context.lineTo(this.centerx+this.radius,Math.round(this.centery));this.context.moveTo(Math.round(this.centerx-this.radius),this.centery-5);this.context.lineTo(Math.round(this.centerx-this.radius),this.centery+5);this.context.moveTo(Math.round(this.centerx+this.radius),this.centery-5);this.context.lineTo(Math.round(this.centerx+this.radius),this.centery+5);for(var x=(this.centerx-this.radius);x<(this.centerx+this.radius);x+=(this.radius/properties.xaxisTickmarksCount)){this.context.moveTo(Math.round(x),this.centery-3);this.context.lineTo(Math.round(x),this.centery+3);}
this.context.stroke();};this.drawChart=function()
{var alpha=properties.colorsAlpha;if(typeof alpha=='number'){var oldAlpha=this.context.globalAlpha;this.context.globalAlpha=alpha;}
var numDatasets=this.data.length;for(var dataset=0;dataset<this.data.length;++dataset){this.context.beginPath();var coords_dataset=[];for(var i=0;i<this.data[dataset].length;++i){var coords=this.getCoordinates(dataset,i);if(coords_dataset==null){coords_dataset=[];}
coords_dataset.push(coords);this.coords.push(coords);}
this.coords2[dataset]=coords_dataset;this.context.strokeStyle=(typeof properties.colorsStroke=='object'&&properties.colorsStroke[dataset])?properties.colorsStroke[dataset]:properties.colorsStroke;this.context.fillStyle=properties.colors[dataset]?properties.colors[dataset]:'rgba(0,0,0,0)';if(this.context.fillStyle==='transparent'){this.context.fillStyle='rgba(0,0,0,0)';}
this.context.lineWidth=properties.linewidth;for(i=0;i<coords_dataset.length;++i){if(i==0){this.context.moveTo(coords_dataset[i][0],coords_dataset[i][1]);}else{this.context.lineTo(coords_dataset[i][0],coords_dataset[i][1]);}}
if(properties.accumulative&&dataset>0){this.context.lineTo(coords_dataset[0][0],coords_dataset[0][1]);this.context.moveTo(last_coords[0][0],last_coords[0][1]);for(var i=coords_dataset.length-1;i>=0;--i){this.context.lineTo(last_coords[i][0],last_coords[i][1]);}}
var last_coords=coords_dataset;this.context.closePath();this.context.fill();this.context.stroke();}
if(typeof alpha=='number'){this.context.globalAlpha=oldAlpha;}};this.getCoordinates=function(dataset,index)
{var len=this.data[dataset].length;var mag=(this.data[dataset][index]/this.max)*this.radius;var angle=(RGraph.TWOPI/len)*index;angle-=RGraph.HALFPI;var x=Math.cos(angle)*mag;var y=Math.sin(angle)*mag;x=this.centerx+x;y=this.centery+y;return[x,y];};this.drawLabels=function()
{var labels=properties.labels;if(labels&&labels.length>0){this.context.lineWidth=1;this.context.strokeStyle='gray';this.context.fillStyle=properties.labelsColor||properties.textColor;var bgFill=properties.labelsBackgroundFill,bold=properties.labelsBold,bgBoxed=properties.labelsBoxed,offset=properties.labelsOffset,font=properties.textFont,size=properties.textSize,radius=this.radius,color=properties.labelsColor||properties.textColor
for(var i=0;i<labels.length;++i){var angle=(RGraph.TWOPI/properties.labels.length)*i;angle-=RGraph.HALFPI;var x=this.centerx+(Math.cos(angle)*(radius+offset));var y=this.centery+(Math.sin(angle)*(radius+offset));var halign=x<this.centerx?'right':'left';if(i==0||(i/labels.length)==0.5)halign='center';if(labels[i]&&labels[i].length){var textConf=RGraph.getTextConf({object:this,prefix:'labels'});RGraph.text({object:this,font:textConf.font,size:textConf.size,color:textConf.color,bold:textConf.bold,italic:textConf.italic,x:x,y:y,text:labels[i],valign:'center',halign:halign,bounding:bgBoxed,boundingFill:bgFill,tag:'labels'});}}}};this.drawCircle=function()
{var circle={};circle.limit=properties.circle;circle.fill=properties.circleFill;circle.stroke=properties.circleStroke;if(circle.limit){var r=(circle.limit/this.max)*this.radius;this.context.fillStyle=circle.fill;this.context.strokeStyle=circle.stroke;this.context.beginPath();this.context.arc(this.centerx,this.centery,r,0,RGraph.TWOPI,0);this.context.fill();this.context.stroke();}};this.drawAxisLabels=function()
{if(RGraph.isArray(properties.labelsAxesSpecific)&&properties.labelsAxesSpecific.length){this.drawSpecificAxisLabels();return;}
this.context.lineWidth=1;this.context.fillStyle='black';this.context.strokeStyle='black';var r=this.radius,font=properties.textFont,axes=properties.labelsAxes.toLowerCase(),color=properties.labelsAxesBoxedBackground,drawzero=false,units_pre=properties.scaleUnitsPre,units_post=properties.scaleUnitsPost,decimals=properties.scaleDecimals,bold=properties.labelsAxesBold,boxed=properties.labelsAxesBoxed,centerx=this.centerx,centery=this.centery,scale=this.scale;this.context.fillStyle=properties.textColor;var textConf=RGraph.getTextConf({object:this,prefix:'labelsAxes'});if(axes.indexOf('n')>-1){for(var i=0;i<this.scale2.labels.length;++i){RGraph.text({object:this,font:textConf.font,size:textConf.size,color:textConf.color,bold:textConf.bold,italic:textConf.italic,x:centerx,y:centery-(r*((i+1)/this.scale2.labels.length)),text:this.scale2.labels[i],valign:'center',halign:'center',bounding:boxed[i]||color,boundingFill:color,boundingStroke:'rgba(0,0,0,0)',tag:'scale'});}
drawzero=true;}
if(axes.indexOf('s')>-1){for(var i=0;i<this.scale2.labels.length;++i){RGraph.text({object:this,font:textConf.font,size:textConf.size,color:textConf.color,bold:textConf.bold,italic:textConf.italic,x:centerx,y:centery+(r*((i+1)/this.scale2.labels.length)),text:this.scale2.labels[i],valign:'center',halign:'center',bounding:boxed[i]||color,boundingFill:color,boundingStroke:'rgba(0,0,0,0)',tag:'scale'});}
drawzero=true;}
if(axes.indexOf('e')>-1){for(var i=0;i<this.scale2.labels.length;++i){RGraph.text({object:this,font:textConf.font,size:textConf.size,color:textConf.color,bold:textConf.bold,italic:textConf.italic,x:centerx+(r*((i+1)/this.scale2.labels.length)),y:centery,text:this.scale2.labels[i],valign:'center',halign:'center',bounding:boxed[i]||color,boundingFill:color,boundingStroke:'rgba(0,0,0,0)',tag:'scale'});}
drawzero=true;}
if(axes.indexOf('w')>-1){for(var i=0;i<this.scale2.labels.length;++i){RGraph.text({object:this,font:textConf.font,size:textConf.size,color:textConf.color,bold:textConf.bold,italic:textConf.italic,x:centerx-(r*((i+1)/this.scale2.labels.length)),y:centery,text:this.scale2.labels[i],valign:'center',halign:'center',bounding:boxed[i]||color,boundingFill:color,boundingStroke:'rgba(0,0,0,0)',tag:'scale'});}
drawzero=true;}
if(drawzero){RGraph.text({object:this,font:textConf.font,size:textConf.size,color:textConf.color,bold:textConf.bold,italic:textConf.italic,x:centerx,y:centery,text:RGraph.numberFormat({object:this,number:Number(0).toFixed(),unitspre:units_pre,unitspost:units_post}),valign:'center',halign:'center',bounding:color?true:false,boundingFill:color,boundingStroke:'rgba(0,0,0,0)',tag:'scale'});}};this.drawSpecificAxisLabels=function()
{var labels=properties.labelsAxesSpecific;var boxed=RGraph.arrayPad(properties.labelsAxesBoxed,labels.length);var reversed_labels=RGraph.arrayReverse(labels);var reversed_boxed=RGraph.arrayReverse(boxed);var axes=properties.labelsAxes.toLowerCase();var textConf=RGraph.getTextConf({object:this,prefix:'labelsAxes'});for(var i=0;i<labels.length;++i){if(axes.indexOf('n')>-1)RGraph.text({object:this,font:textConf.font,size:textConf.size,color:textConf.color,bold:textConf.bold,italic:textConf.italic,tag:'labels.axes.specific',x:this.centerx,y:this.centery-this.radius+((this.radius/labels.length)*i),text:reversed_labels[i],valign:'center',halign:'center',bounding:reversed_boxed[i],boundingFill:'white'});if(axes.indexOf('s')>-1)RGraph.text({object:this,font:textConf.font,size:textConf.size,color:textConf.color,bold:textConf.bold,italic:textConf.italic,tag:'labels.axes.specific',x:this.centerx,y:this.centery+((this.radius/labels.length)*(i+1)),text:labels[i],valign:'center',halign:'center',bounding:boxed[i],boundingFill:'white'});if(axes.indexOf('w')>-1)RGraph.text({object:this,font:textConf.font,size:textConf.size,color:textConf.color,bold:textConf.bold,italic:textConf.italic,tag:'labels.axes.specific',x:this.centerx-this.radius+((this.radius/labels.length)*i),y:this.centery,text:reversed_labels[i],valign:'center',halign:'center',bounding:reversed_boxed[i],boundingFill:'white'});if(axes.indexOf('e')>-1)RGraph.text({object:this,font:textConf.font,size:textConf.size,color:textConf.color,bold:textConf.bold,italic:textConf.italic,tag:'labels.axes.specific',x:this.centerx+((this.radius/labels.length)*(i+1)),y:this.centery,text:labels[i],valign:'center',halign:'center',bounding:boxed[i],boundingFill:'white'});}};this.getShape=function(e)
{for(var i=0;i<this.coords.length;++i){var x=this.coords[i][0];var y=this.coords[i][1];var tooltips=properties.tooltips;var index=Number(i);var mouseXY=RGraph.getMouseXY(e);var mouseX=mouseXY[0];var mouseY=mouseXY[1];if(mouseX<(x+5)&&mouseX>(x-5)&&mouseY>(y-5)&&mouseY<(y+5)){if(RGraph.parseTooltipText){var tooltip=RGraph.parseTooltipText(properties.tooltips,index);}
var indexes=RGraph.sequentialIndexToGrouped(index,this.data);var dataset=indexes[0];var idx=indexes[1];return{object:this,x:x,y:y,index:idx,dataset:dataset,sequentialIndex:index,label:properties.labels&&typeof properties.labels[idx]==='string'?properties.labels[idx]:null,tooltip:typeof tooltip==='string'?tooltip:null}}}};this.highlight=function(shape)
{if(typeof properties.highlightStyle==='function'){(properties.highlightStyle)(shape);}else if(properties.highlightStyle==='invert'){var radius=25;this.path('b a % % % % % true',shape.x,shape.y,radius,4.72,-1.57);for(var a=0;a<=360;a+=(360/this.data[0].length)){this.path('a % % % % % false');this.context.arc(this.centerx,this.centery,this.radius,RGraph.toRadians(a)-RGraph.HALFPI,RGraph.toRadians(a)+0.001-RGraph.HALFPI,false);}
this.path('a % % % % % false c f %',this.centerx,this.centery,this.radius,0-RGraph.HALFPI,0.001-RGraph.HALFPI,properties.highlightFill);this.path('b a % % % % % false s %',shape.x,shape.y,radius,0,6.29,properties.highlightStroke);}else{RGraph.Highlight.point(this,shape);}};this.getObjectByXY=function(e)
{var mouseXY=RGraph.getMouseXY(e);var extra=5;if(mouseXY[0]>(this.centerx-this.radius-extra)&&mouseXY[0]<(this.centerx+this.radius+extra)&&mouseXY[1]>(this.centery-this.radius-extra)&&mouseXY[1]<(this.centery+this.radius+extra)){return this;}};this.drawHighlights=function()
{if(properties.highlights){var sequentialIdx=0;var dataset=0;var index=0;var radius=properties.highlightsRadius;for(var dataset=0;dataset<this.data.length;++dataset){for(var index=0;index<this.data[dataset].length;++index){this.context.beginPath();this.context.strokeStyle=properties.highlightsStroke;this.context.fillStyle=properties.highlightsFill?properties.highlightsFill:((typeof properties.colorsStroke=='object'&&properties.colorsStroke[dataset])?properties.colorsStroke[dataset]:properties.colorsStroke);this.context.arc(this.coords[sequentialIdx][0],this.coords[sequentialIdx][1],radius,0,RGraph.TWOPI,false);this.context.stroke();this.context.fill();++sequentialIdx;}}}};this.getRadius=function(value)
{if(value<0||value>this.max){return null;}
var radius=(value/this.max)*this.radius;return radius;};this.getAngle=function(numitems,index)
{var angle=(RGraph.TWOPI/numitems)*index;angle-=RGraph.HALFPI;return angle;};this.parseColors=function()
{if(this.original_colors.length===0){this.original_colors.colors=RGraph.arrayClone(properties.colors);this.original_colors.keyColors=RGraph.arrayClone(properties.keyColors);this.original_colors.titleColor=RGraph.arrayClone(properties.titleColor);this.original_colors.textColor=RGraph.arrayClone(properties.textColor);this.original_colors.labelsColor=RGraph.arrayClone(properties.labelsColor);this.original_colors.labelsAxesColor=RGraph.arrayClone(properties.labelsAxesColor);this.original_colors.highlightStroke=RGraph.arrayClone(properties.highlightStroke);this.original_colors.highlightFill=RGraph.arrayClone(properties.highlightFill);this.original_colors.circleFill=RGraph.arrayClone(properties.circleFill);this.original_colors.circleStroke=RGraph.arrayClone(properties.circleStroke);this.original_colors.colorsStroke=RGraph.arrayClone(properties.colorsStroke);}
for(var i=0;i<properties.colors.length;++i){properties.colors[i]=this.parseSingleColorForGradient(properties.colors[i]);}
var keyColors=properties.keyColors;if(typeof keyColors!='null'&&keyColors&&keyColors.length){for(var i=0;i<properties.keyColors.length;++i){properties.keyColors[i]=this.parseSingleColorForGradient(properties.keyColors[i]);}}
properties.titleColor=this.parseSingleColorForGradient(properties.titleColor);properties.textColor=this.parseSingleColorForGradient(properties.textColor);properties.labelsColor=this.parseSingleColorForGradient(properties.labelsColor);properties.labelsAxesColor=this.parseSingleColorForGradient(properties.labelsAxesColor);properties.highlightStroke=this.parseSingleColorForGradient(properties.highlightStroke);properties.highlightFill=this.parseSingleColorForGradient(properties.highlightFill);properties.circleFill=this.parseSingleColorForGradient(properties.circleFill);properties.circleStroke=this.parseSingleColorForGradient(properties.circleStroke);if(typeof properties.colorsStroke==='object'){for(var i=0;i<properties.colorsStroke.length;++i){properties.colorsStroke[i]=this.parseSingleColorForGradient(properties.colorsStroke[i]);}}else{properties.colorsStroke=this.parseSingleColorForGradient(properties.colorsStroke);}};this.reset=function()
{};this.parseSingleColorForGradient=function(color)
{if(!color||typeof color!='string'){return color;}
if(color.match(/^gradient\((.*)\)$/i)){if(color.match(/^gradient\(({.*})\)$/i)){return RGraph.parseJSONGradient({object:this,def:RegExp.$1});}
var parts=RegExp.$1.split(':');var grad=this.context.createRadialGradient(this.centerx,this.centery,0,this.centerx,this.centery,this.radius);var diff=1/(parts.length-1);grad.addColorStop(0,RGraph.trim(parts[0]));for(var j=1;j<parts.length;++j){grad.addColorStop(j*diff,RGraph.trim(parts[j]));}}
return grad?grad:color;};this.addFillListeners=function(e)
{var obj=this;var func=function(e)
{var coords=obj.coords;var coords2=obj.coords2;var mouseXY=RGraph.getMouseXY(e);var dataset=0;if(e.type=='mousemove'&&properties.fillMousemoveRedraw){RGraph.redrawCanvas(obj.canvas);}
for(var dataset=(obj.coords2.length-1);dataset>=0;--dataset){obj.context.beginPath();obj.context.moveTo(obj.coords2[dataset][0][0],obj.coords2[dataset][0][1]);for(var j=0;j<obj.coords2[dataset].length;++j){obj.context.lineTo(obj.coords2[dataset][j][0],obj.coords2[dataset][j][1]);}
obj.context.lineTo(obj.coords2[dataset][0][0],obj.coords2[dataset][0][1]);if(properties.accumulative&&dataset>0){obj.context.lineTo(obj.coords2[dataset-1][0][0],obj.coords2[dataset-1][0][1]);for(var j=(obj.coords2[dataset-1].length-1);j>=0;--j){obj.context.lineTo(obj.coords2[dataset-1][j][0],obj.coords2[dataset-1][j][1]);}}
obj.context.closePath();if(obj.context.isPointInPath(mouseXY[0],mouseXY[1])){var inPath=true;break;}}
if(inPath){var fillTooltips=properties.fillTooltips;if(e.type=='click'){if(properties.fillClick){properties.fillClick(e,dataset);}
if(properties.fillTooltips&&properties.fillTooltips[dataset]){obj.datasetTooltip(e,dataset);}}
if(e.type=='mousemove'){if(properties.fillMousemove){properties.fillMousemove(e,dataset);}
if(!RGraph.isNull(fillTooltips)){e.target.style.cursor='pointer';}
if(properties.fillTooltips&&properties.fillTooltips[dataset]){e.target.style.cursor='pointer';}}
e.stopPropagation();}else if(e.type=='mousemove'){obj.canvas.style.cursor='default';}};if(properties.fillClick||!RGraph.isNull(properties.fillTooltips)){this.canvas.addEventListener('click',func,false);}
if(properties.fillMousemove||!RGraph.isNull(properties.fillTooltips)){this.canvas.addEventListener('mousemove',func,false);}};this.highlightDataset=function(dataset)
{this.context.beginPath();for(var j=0;j<this.coords2[dataset].length;++j){if(j==0){this.context.moveTo(this.coords2[dataset][0][0],this.coords2[dataset][0][1]);}else{this.context.lineTo(this.coords2[dataset][j][0],this.coords2[dataset][j][1]);}}
this.context.lineTo(this.coords2[dataset][0][0],this.coords2[dataset][0][1]);if(properties.accumulative&&dataset>0){this.context.lineTo(this.coords2[dataset-1][0][0],this.coords2[dataset-1][0][1]);for(var j=(this.coords2[dataset-1].length-1);j>=0;--j){this.context.lineTo(this.coords2[dataset-1][j][0],this.coords2[dataset-1][j][1]);}}
this.context.strokeStyle=properties.fillHighlightStroke;this.context.fillStyle=properties.fillHighlightFill;this.context.stroke();this.context.fill();};this.datasetTooltip=function(e,dataset)
{this.highlightDataset(dataset);var text=properties.fillTooltips[dataset];var x=this.coords2[dataset][0][0]+RGraph.getCanvasXY(this.canvas)[0];var y=this.coords2[dataset][0][1]+RGraph.getCanvasXY(this.canvas)[1];RGraph.tooltip({object:this,text:text,x:x,y:y,index:0,event:e});};this.interactiveKeyHighlight=function(index)
{var coords=this.coords2[index];if(coords){var pre_linewidth=this.context.lineWidth;var pre_linecap=this.context.lineCap;this.context.lineWidth=properties.linewidth+10;this.context.lineCap='round';this.context.strokeStyle=properties.keyInteractiveHighlightChartStroke;this.context.beginPath();for(var i=0,len=coords.length;i<len;i+=1){if(i==0){this.context.moveTo(coords[i][0],coords[i][1]);}else{this.context.lineTo(coords[i][0],coords[i][1]);}}
this.context.closePath();this.context.stroke();this.context.lineWidth=pre_linewidth;this.context.lineCap=pre_linecap;}};this.on=function(type,func)
{if(type.substr(0,2)!=='on'){type='on'+type;}
if(typeof this[type]!=='function'){this[type]=func;}else{RGraph.addCustomEventListener(this,type,func);}
return this;};this.firstDrawFunc=function()
{};this.grow=function()
{var obj=this;var callback=arguments[1]?arguments[1]:function(){};var opt=arguments[0]?arguments[0]:{};var frames=opt.frames?opt.frames:30;var frame=0;var data=RGraph.arrayClone(obj.data);function iterator()
{for(var i=0,len=data.length;i<len;++i){for(var j=0,len2=data[i].length;j<len2;++j){obj.original_data[i][j]=(frame/frames)*data[i][j];}}
RGraph.clear(obj.canvas);RGraph.redrawCanvas(obj.canvas);if(frame<frames){frame++;RGraph.Effects.updateCanvas(iterator);}else{callback(obj);}}
iterator();return this;};this.trace=function()
{var obj=this;var opt=arguments[0]||{};var frames=opt.frames||60;var frame=0;var callback=arguments[1]||function(){};obj.set('animationTraceClip',0);var iterator=function()
{if(frame<frames){obj.set('animationTraceClip',frame/frames);frame++;RGraph.redrawCanvas(obj.canvas);RGraph.Effects.updateCanvas(iterator);}else{obj.set('animationTraceClip',1);RGraph.redrawCanvas(obj.canvas);callback(obj);}};iterator();return this;};this.tooltipSubstitutions=function(opt)
{var indexes=RGraph.sequentialIndexToGrouped(opt.index,this.data);for(var i=0,values=[];i<this.data.length;++i){values.push(this.data[i][indexes[1]]);}
return{index:indexes[1],dataset:indexes[0],sequentialIndex:opt.index,value:this.data_arr[opt.index],values:values};};this.tooltipsFormattedCustom=function(specific,index)
{var color=(!RGraph.isNull((properties.tooltipsFormattedKeyColors))&&typeof properties.tooltipsFormattedKeyColors==='object'&&properties.tooltipsFormattedKeyColors[i])?properties.tooltipsFormattedKeyColors[i]:'';var label=(!RGraph.isNull((properties.tooltipsFormattedKeyLabels))&&typeof properties.tooltipsFormattedKeyLabels==='object'&&properties.tooltipsFormattedKeyLabels[index])?properties.tooltipsFormattedKeyLabels[index]:'';return{label:label,color:color};};this.positionTooltipStatic=function(args)
{var obj=args.object,e=args.event,tooltip=args.tooltip,index=args.index,canvasXY=RGraph.getCanvasXY(obj.canvas)
coords=this.coords[index];args.tooltip.style.left=(canvasXY[0]
+coords[0]
-(tooltip.offsetWidth/2)
+obj.properties.tooltipsOffsetx)+'px';args.tooltip.style.top=(canvasXY[1]
+coords[1]
-tooltip.offsetHeight
+obj.properties.tooltipsOffsety
-15
-(properties.highlightsRadius-4))+'px';};RGraph.register(this);RGraph.parseObjectStyleConfig(this,conf.options);};