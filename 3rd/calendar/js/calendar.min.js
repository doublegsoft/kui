!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.Calendar=t()}(this,function(){"use strict";function s(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var o=function(){function A(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,A),this.attributes={parent:"",time:"",viewMode:0,pickMode:"single",hasSwitcher:!0,hasFooter:!0,hasClock:!0,onDatePick:null,onMonthPick:null,onYearPick:null,onTodayPick:null,MONTHS:[],DAYS:[],DATES:[],STYLES:{}},this.elements={parent:null,wrap:null,header:null,title:null,switcher:null,prev:null,next:null,body:null,week:null,dates:null,months:null,years:null,footer:null,today:null,time:null},this.data={minYear:0,maxYear:0,year:0,month:0,date:{year:0,month:0,date:0,day:0,text:"",fullText:""},picked:[]},this.initialize(e).render().addEventListeners(),this}return function(e,t,a){t&&s(e.prototype,t),a&&s(e,a)}(A,[{key:"initialize",value:function(e){var t,a,s,i,n,r,l,h=A.getYear().value;switch(this.set(A.defaults).set(e),a=this.get("time"),t=this.get("pickMode"),i=(s=A.getMonth(a)).text,this.setYear(a).setMonth(a).setDate(a)._setYears(a),t){case"multiple":this.data.picked.push(this.getDate().text);break;case"range":r=i+"-1",l=i+"-"+this.get("DATES")[s.value-1],this.data.picked=[r,l];break;case"week":r=(n=A.getWeekRanges(a))[0],l=n[n.length-1],this.data.picked=[r,l]}return this.data.minYear=h-100,this.data.maxYear=h+100,this._createElements(),this}},{key:"render",value:function(){var e=this.getEls(),t=e.wrap,a=e.header,s=e.switcher,i=e.body,n=e.footer,r=document.createDocumentFragment();return this._renderTitle(),a.appendChild(e.title),this.get("hasSwitcher")&&(s.appendChild(e.prev),s.appendChild(e.next),a.appendChild(s)),this._renderDays(),i.appendChild(e.week),this._renderDates(),i.appendChild(e.dates),this._renderMonths(),i.appendChild(e.months),this._renderYears(),i.appendChild(e.years),this.get("hasFooter")&&(this._renderFooter(),n.appendChild(e.today),this.get("hasClock")&&n.appendChild(e.time)),t.appendChild(a),t.appendChild(i),this.get("hasFooter")&&t.appendChild(n),r.appendChild(t),e.parent.appendChild(r),this}},{key:"addEventListeners",value:function(){var e=".",t=this.get("STYLES"),a="click",s=e+t.TITLE,i=e+t.PREV,n=e+t.NEXT,r=e+t.DATE,l=e+t.MONTH,h=e+t.YEAR,u=e+t.TODAY,o=A.Delegate,c=this.getEls().wrap;return o.on(c,s,a,this._titleClick,this),this.get("hasSwitcher")&&(o.on(c,i,a,this._prevClick,this),o.on(c,n,a,this._nextClick,this)),o.on(c,r,a,this._dateClick,this),o.on(c,l,a,this._monthClick,this),o.on(c,h,a,this._yearClick,this),this.get("hasClock")&&o.on(c,u,a,this._todayClick,this),this}},{key:"reload",value:function(e){return this.destroy().initialize(e).render().addEventListeners(),this}},{key:"destroy",value:function(){return this.removeEventListeners().hide().remove().reset(),this}},{key:"removeEventListeners",value:function(){var e="click",t=A.Delegate,a=this.getEls().wrap;return t.off(a,e,this._titleClick),this.get("hasSwitcher")&&(t.off(a,e,this._prevClick),t.off(a,e,this._nextClick)),t.off(a,e,this._dateClick),t.off(a,e,this._monthClick),t.off(a,e,this._yearClick),this.get("hasClock")&&t.off(a,e,this._todayClick),this}},{key:"remove",value:function(){var e=this.getEls();return e.parent.removeChild(e.wrap),this}},{key:"reset",value:function(){return this.attributes={parent:"",time:"",viewMode:0,pickMode:"single",hasSwitcher:!0,hasFooter:!0,hasClock:!0,MONTHS:[],DAYS:[],DATES:[],STYLES:{}},this.elements={parent:null,wrap:null,header:null,title:null,switcher:null,prev:null,next:null,body:null,week:null,dates:null,months:null,years:null,footer:null,today:null,time:null,year:null,month:null,date:null},this.data={minYear:0,maxYear:0,years:{start:0,end:0},year:0,month:0,date:{year:0,month:0,date:0,day:0,text:"",fullText:""},picked:[]},this}},{key:"get",value:function(e){return this.attributes[e]}},{key:"set",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};return Object.assign(this.attributes,t),this}},{key:"getEls",value:function(){return this.elements}},{key:"getYear",value:function(){return this.data.year}},{key:"setYear",value:function(e){return this.data.year=A.getYear(e).value,this}},{key:"getMonth",value:function(){return this.data.month}},{key:"setMonth",value:function(e){return this.data.month=A.getMonth(e).value,this}},{key:"getDate",value:function(){return this.data.date}},{key:"setDate",value:function(e){return this.data.date=A.getDate(e),this}},{key:"getYears",value:function(){return this.data.years}},{key:"getPicked",value:function(){return this.data.picked}},{key:"update",value:function(e){var t=0<arguments.length&&void 0!==e?e:0;return this.updateViewMode(t).updateView(),this}},{key:"updateViewMode",value:function(e){var t=0<arguments.length&&void 0!==e?e:0;return 2<t?t=2:t<0&&(t=0),this.set({viewMode:t}),this}},{key:"updateView",value:function(){var e=this.get("STYLES").HIDDEN,t=A.DOM,a=t.addClass,s=t.removeClass,i=this.getEls(),n=i.week,r=i.dates,l=i.months,h=i.years;switch(this._renderTitle(),this.get("viewMode")){case 0:a(l,e),a(h,e),s(n,e),s(r,e),this._repaintDates();break;case 1:a(n,e),a(r,e),a(h,e),s(l,e),this._repaintMonths();break;case 2:a(n,e),a(r,e),a(l,e),s(h,e),this._repaintYears()}return this}},{key:"prev",value:function(){var e,t=this.getYears().start,a=this.getYear(),s=this.getMonth(),i=this.data.minYear;switch(this.get("viewMode")){case 0:(s-=1)<1&&(s=12,(a-=1)<i&&(a=i)),e=a+"-"+s+"-1",this.setYear(e).setMonth(e);break;case 1:(a-=1)<i&&(a=i),this.setYear(a+"-1-1");break;case 2:(t-=10)<i&&(t=i+9),this._setYears(t.toString())}return this.updateView(),this}},{key:"next",value:function(){var e,t=this.getYears().start,a=this.getYear(),s=this.getMonth(),i=this.data.maxYear;switch(this.get("viewMode")){case 0:12<(s+=1)&&i<(a+=s=1)&&(a=i),e=a+"-"+s+"-1",this.setYear(e).setMonth(e);break;case 1:i<(a+=1)&&(a=i),this.setYear(a+"-1-1");break;case 2:i<(t+=10)&&(t=i-9),this._setYears(t.toString())}return this.updateView(),this}},{key:"pickDate",value:function(e){var t,a=this.get("STYLES").PICKED,s=A.DOM,i=s.hasClass,n=s.addClass,r=s.removeClass,l=A.Utils.isFunction,h=this.get("pickMode"),u=this.getEls(),o=e.getAttribute("data-date"),c=this.get("onDatePick"),d=null;if(i(e,a))switch(h){case"single":case"week":return!1;case"multiple":r(e,a),this._removePicked(o),t=this.getPicked(),this.setDate(t[t.length-1]),l(c)&&c(t,e,this);break;case"range":this.data.picked=[],this.data.picked.push(o),this.setDate(o),u.date=e,this._updateDateRanges(),l(c)&&c(this.getPicked(),e,this)}else switch(this.setYear(o).setMonth(o),h){case"single":(d=u.date)&&r(d,a),n(e,a),u.date=e,this.setDate(o),l(c)&&c(o,e,this);break;case"multiple":this.data.picked.push(o),this.data.picked.sort(),t=this.getPicked(),this.setDate(t[t.length-1]),n(e,a),l(c)&&c(this.getPicked(),e,this);break;case"range":switch(this.data.picked.length){case 0:case 1:this.data.picked.push(o),2===this.data.picked.length&&this.data.picked.sort(),t=this.getPicked(),this.setDate(t[t.length-1]),u.date=e,this._updateDateRanges(),l(c)&&c(t,e,this);break;case 2:this.data.picked=[],this.data.picked.push(o),u.date=e,this._updateDateRanges()}break;case"week":var g=A.getWeekRanges(o);this.data.picked=[g[0],g[g.length-1]],this.setDate(g[g.length-1]),u.date=e,this._updateWeekRanges(),l(c)&&c(this.getPicked(),e,this)}return this}},{key:"pickMonth",value:function(e){var t=this.get("STYLES").PICKED,a=A.DOM,s=this.getEls(),i=s.month,n=e.getAttribute("data-month"),r=this.get("onMonthPick");return a.hasClass(e,t)?this.update():(i&&a.removeClass(i,t),a.addClass(e,t),s.month=e,this.setYear(n).setMonth(n)._setYears(n).update()),A.Utils.isFunction(r)&&r(n,e,this),this}},{key:"pickYear",value:function(e){var t=this.get("STYLES").PICKED,a=A.DOM,s=this.getEls(),i=s.year,n=e.getAttribute("data-year"),r=this.get("onYearPick");return a.hasClass(e,t)?this.setYear(n).update(1):(i&&a.removeClass(i,t),a.addClass(e,t),s.year=e,this.setYear(n)._setYears(n).update(1)),A.Utils.isFunction(r)&&r(n,e,this),this}},{key:"pickToday",value:function(){var e=A.getToday().value,t=this.get("onTodayPick");return this.setYear(e).setMonth(e).setDate(e)._setYears(e).update(),A.Utils.isFunction(t)&&t(e,this.getEls().dates.querySelector("[data-date="+e+"]"),this),this}},{key:"hide",value:function(){var e=this.get("STYLES").HIDDEN,t=this.getEls().wrap;return A.DOM.addClass(t,e),this}},{key:"show",value:function(){var e=this.get("STYLES").HIDDEN,t=this.getEls().wrap;return A.DOM.removeClass(t,e),this}},{key:"toggle",value:function(){var e=this.get("STYLES").HIDDEN,t=this.getEls().wrap;return A.DOM.hasClass(t,e)?this.show():this.hide(),this}},{key:"_setYears",value:function(e){return this.data.years=A.getYears(e),this}},{key:"_removePicked",value:function(e){var t=this.getPicked(),a=t.indexOf(e);return-1<a&&t.splice(a,1),this}},{key:"_createElements",value:function(){var e=this.get("STYLES"),t=e.WRAP,a=e.WRAP_WITHOUT_FOOTER,s=e.HEADER,i=e.TITLE,n=e.SWITCHER,r=e.PREV,l=e.ICON_PREV,h=e.NEXT,u=e.ICON_NEXT,o=e.BODY,c=e.WEEK,d=e.DATES,g=e.MONTHS,p=e.YEARS,v=e.FOOTER,E=e.FOOTER_DATE,k=e.TODAY,f=e.FOOTER_TIME,m=e.TIME,y=e.TEXT,D=e.HIDDEN,T=" ",C=this.get("hasFooter"),Y=this.getEls(),N=A.DOM.createElement,S=t,_=c,M=d,w=g,O=p;switch(this.get("viewMode")){case 0:w+=T+D,O+=T+D;break;case 1:_+=T+D,M+=T+D,O+=T+D;break;case 2:_+=T+D,M+=T+D,w+=T+D}return C||(S+=T+a),Y.parent=document.getElementById(this.get("parent")),Y.wrap=N("div",{id:A.Utils.guid("calendar"),className:S}),Y.header=N("div",{className:s}),Y.title=N("h4",{className:i},[N("span",{className:y})]),this.get("hasSwitcher")&&(Y.switcher=N("div",{className:n}),Y.prev=N("div",{className:r},[N("span",{className:y},[N("i",{className:l})])]),Y.next=N("div",{className:h},[N("span",{className:y},[N("i",{className:u})])])),Y.body=N("div",{className:o}),Y.week=N("div",{className:_}),Y.dates=N("div",{className:M}),Y.months=N("div",{className:w}),Y.years=N("div",{className:O}),C&&(Y.footer=N("div",{className:v}),Y.today=N("div",{className:E},[N("p",{className:k},[N("span",{className:y})])]),this.get("hasClock")&&(Y.time=N("div",{className:f},[N("p",{className:m},[N("span",{className:y})])]))),this}},{key:"_renderTitle",value:function(){var e=this.getEls().title.querySelector("."+this.get("STYLES").TEXT),t=this.getYears(),a=this.getYear(),s="";switch(this.get("viewMode")){case 0:s=A.getMonth(a+"-"+this.getMonth()+"-1").fullText;break;case 1:s=A.getYear(a+"-1-1").fullText;break;case 2:s=t.start+" - "+t.end}return e.innerHTML=s,this}},{key:"_renderDays",value:function(){var e=this.get("STYLES"),s=e.DAY,i=e.WEEKEND,n=e.TEXT,r=this.get("DAYS"),l=A.DOM.createElement,h=document.createDocumentFragment();return r.forEach(function(e,t){var a=0===t||t===r.length-1?s+" "+i:s;h.appendChild(l("div",{className:a},[l("span",{className:n},[e])]))}),this.getEls().week.appendChild(h),this}},{key:"_renderDates",value:function(){var e,t=this.get("DATES"),a=A.isLeapYear,s=document.createDocumentFragment(),i=this.getYear(),n=this.getMonth(),r=t[n-1],l=A.getDay(i+"-"+n+"-1").value,h=n-2<0?i-1:i,u=n-2<0?12:n-1,o=t[u-1],c=12===n?i+1:i,d=12===n?1:n+1;return a(i)&&2==u?o+=1:a(i)&&2===n&&(r+=1),e=42-(l+r),0!==l&&s.appendChild(this._getDatesFragment({year:h,month:u,start:o-(l-1),end:o,isPrev:!0,isNext:!1})),s.appendChild(this._getDatesFragment({year:i,month:n,start:1,end:r,isPrev:!1,isNext:!1})),0<e&&s.appendChild(this._getDatesFragment({year:c,month:d,start:1,end:e,isPrev:!1,isNext:!0})),this.getEls().dates.appendChild(s),this}},{key:"_repaintDates",value:function(){var e=this.get("STYLES").HIDDEN,t=A.DOM,a=this.getEls().dates;return t.addClass(a,e),a.innerHTML="",t.removeClass(a,e),this._renderDates(),this}},{key:"_getDatesFragment",value:function(e){for(var h=this,u=e.year,o=e.month,t=e.start,a=e.end,c=e.isPrev,d=e.isNext,g=" ",s=this.get("STYLES"),p=s.DATE,v=s.DATE_PREV,E=s.DATE_NEXT,k=s.CURRENT,f=s.PICKED,m=s.PICKED_RANGE,y=s.WEEKEND,D=s.TEXT,T=A.DOM.createElement,C=A.isDatesEqual,Y=document.createDocumentFragment(),N=this.getEls(),S=t,_=this.get("pickMode"),M=this.getPicked(),i=function(){var a=u+"-"+o+"-"+S,e=A.isToday(a),t=A.getDay(a),s=[T("span",{className:D},[S])],i="",n=void 0;switch(n=T("div",{"data-date":a},s),i+=p,c?i+=g+v:d&&(i+=g+E),e&&(i+=g+k),0!==t.value&&6!==t.value||(i+=g+y),_){case"single":var r=h.getDate().text;C(a,r)&&(i+=g+f,N.date=n);break;case"multiple":M.forEach(function(e){C(a,e)&&(i+=g+f)});break;case"range":case"week":var l=[];2===M.length?(l=A.getRanges(M[0],M[1])).forEach(function(e,t){if(!C(a,e))return!1;0!==t&&t!==l.length-1?(i+=g+f,i+=g+m):0!==t&&t!==l.length-1||(i+=g+f)}):1===M.length&&(i+=g+f)}n.className=i,Y.appendChild(n)};S<=a;S+=1)i();return Y}},{key:"_updateDateRanges",value:function(){var e=this.get("STYLES"),s=e.PICKED,i=e.PICKED_RANGE,t=A.DOM,a=t.hasClass,n=t.removeClass,r=t.addClass,l=this.getEls(),h=this.elements.date,u=l.dates,o=u.querySelectorAll("."+s);switch(this.data.picked.length){case 1:o.forEach(function(e){n(e,s),a(e,i)&&n(e,i)}),r(h,s);break;case 2:var c=A.getRanges(this.data.picked[0],this.data.picked[1]);c.forEach(function(e,t){var a=u.querySelector('[data-date="'+e+'"]');0<t&&t<c.length-1&&(r(a,s),r(a,i))}),r(h,s)}return this}},{key:"_updateWeekRanges",value:function(){var e=this.get("STYLES"),s=e.PICKED,i=e.PICKED_RANGE,t=A.DOM,a=t.removeClass,n=t.addClass,r=this.getEls().dates,l=r.querySelectorAll("."+s),h=this.getPicked(),u=A.getWeekRanges(h[0]);return l.forEach(function(e){a(e,i),a(e,s)}),u.forEach(function(e,t){var a=r.querySelector('[data-date="'+e+'"]');0<t&&t<u.length-1?(n(a,s),n(a,i)):0!==t&&t!==u.length-1||n(a,s)}),this}},{key:"_renderMonths",value:function(){var n=this,e=this.get("STYLES"),r=e.CURRENT,l=e.PICKED,h=e.MONTH,u=e.MONTH_PREV,o=e.MONTH_NEXT,c=e.TEXT,t=this.get("MONTHS"),d=A.DOM.createElement,g=document.createDocumentFragment(),a=this.getEls(),p=this.getYear(),v=A.getToday();return t.forEach(function(e,t){var a,s=n.getDate(),i=h;t<2?(i+=" "+u,p-1===s.year&&e===s.month&&(i+=" "+l),a=d("div",{className:i,"data-month":p-1+"-"+e+"-1"},[d("span",{className:c},[e])])):2<=t&&t<=13?(p===v.year&&e===v.month&&(i+=" "+r),p===s.year&&e===s.month&&(i+=" "+l),a=d("div",{className:i,"data-month":p+"-"+e+"-1"},[d("span",{className:c},[p+"-"+e])])):13<t&&t<=15&&(i+=" "+o,p+1===s.year&&e===s.month&&(i+=" "+l),a=d("div",{className:i,"data-month":p+1+"-"+e+"-1"},[d("span",{className:c},[e])])),g.appendChild(a)}),a.months.appendChild(g),this}},{key:"_repaintMonths",value:function(){var e=this.get("STYLES").HIDDEN,t=A.DOM,a=this.getEls().months;return t.addClass(a,e),a.innerHTML="",t.removeClass(a,e),this._renderMonths(),this}},{key:"_renderYears",value:function(){var e=this.getYears(),t=e.start,a=e.end,s=t-3,i=t-1,n=a+1,r=a+3,l=document.createDocumentFragment();return l.appendChild(this._getYearsFragment({start:s,end:i,isPrev:!0,isNext:!1})),l.appendChild(this._getYearsFragment({start:t,end:a,isPrev:!1,isNext:!1})),l.appendChild(this._getYearsFragment({start:n,end:r,isPrev:!1,isNext:!0})),this.getEls().years.appendChild(l),this}},{key:"_repaintYears",value:function(){var e=this.get("STYLES").HIDDEN,t=A.DOM,a=this.getEls().years;return t.addClass(a,e),a.innerHTML="",t.removeClass(a,e),this._renderYears(),this}},{key:"_getYearsFragment",value:function(e){for(var t=e.start,a=e.end,s=e.isPrev,i=e.isNext,n=this.get("STYLES"),r=n.YEAR,l=n.YEAR_PREV,h=n.YEAR_NEXT,u=n.CURRENT,o=n.PICKED,c=n.DISABLED,d=n.TEXT,g=A.DOM.createElement,p=document.createDocumentFragment(),v=this.getEls(),E=this.data.minYear,k=this.data.maxYear,f=t;f<=a;f+=1){var m=this.getDate(),y=f===A.getToday().year,D=f===m.year,T=r,C=g("div",{"data-year":f+"-1-1"},[g("span",{className:d},[f])]);s?T+=" "+l:i&&(T+=" "+h),y&&(T+=" "+u),D&&(T+=" "+o,v.year=C),(f<E||k<f)&&(T+=" "+c),C.className=T,p.appendChild(C)}return p}},{key:"_renderFooter",value:function(){var r=this.get("STYLES").TEXT,l=this.getEls(),e=l.today.querySelector("."+r),t=A.getToday(),h=null;return e.innerHTML="今天："+t.text,A.DOM.setAttribute(e,"data-date",t.value),this.get("hasClock")&&function e(){var t=l.time.querySelector("."+r),a=new Date,s=a.getHours(),i=a.getMinutes(),n=a.getSeconds();h&&clearTimeout(h),s<10&&(s="0"+s),i<10&&(i="0"+i),n<10&&(n="0"+n),t.innerHTML=s+":"+i+":"+n,h=setTimeout(e,1e3)}(),this}},{key:"_titleClick",value:function(){var e=this.get("viewMode");return 2<(e+=1)&&(e=2),this.update(e),this}},{key:"_prevClick",value:function(){return this.prev(),this}},{key:"_nextClick",value:function(){return this.next(),this}},{key:"_dateClick",value:function(e){var t,a=e.delegateTarget,s=a.getAttribute("data-date");return this.pickDate(a),t=this.getPicked(),console.log("------------- _dateClick -------------"),"single"===this.get("pickMode")?console.log(s):console.log(t),this}},{key:"_monthClick",value:function(e){var t=e.delegateTarget,a=t.getAttribute("data-month");return this.pickMonth(t),console.log("------------- _monthClick -------------"),console.log(a),this}},{key:"_yearClick",value:function(e){var t=e.delegateTarget,a=t.getAttribute("data-year");return this.pickYear(t),console.log("------------- _yearClick -------------"),console.log(a),this}},{key:"_todayClick",value:function(){var e=this.getEls(),t=A.getToday().text;return this.pickToday(),this.pickDate(e.dates.querySelector('[data-date="'+t+'"]')),console.log("------------- _todayClick -------------"),console.log(t),this}}],[{key:"getYear",value:function(e){var t=(e?new Date(A.toAllSupported(e)):new Date).getFullYear();return{value:t,text:t.toString(),fullText:t+"年"}}},{key:"getMonth",value:function(e){var t=e?new Date(A.toAllSupported(e)):new Date,a=A.getYear(e),s=t.getMonth();return{value:s+=1,text:a.text+"-"+s,fullText:a.fullText+s+"月"}}},{key:"getDate",value:function(e){var t=e?new Date(A.toAllSupported(e)):new Date,a=A.getYear(e),s=A.getMonth(e),i=t.getDate(),n=A.getDay(e),r=a.value+"-"+s.value+"-"+i,l=s.fullText+i+"日";return{year:a.value,month:s.value,date:i,day:n.value,text:r,fullText:l+" "+n.fullText}}},{key:"getDay",value:function(e){var t=(e?new Date(A.toAllSupported(e)):new Date).getDay(),a=A.defaults.DAYS[t];return{value:t,text:a,fullText:"星期"+a}}},{key:"getToday",value:function(){return A.getDate()}},{key:"getYears",value:function(e){var t=A.getYear(e).value,a=t.toString().split(""),s=parseInt(a[a.length-1],10),i=0,n=0;return n=0===s?(i=t)+9:9===s?(i=t-9,t):(i=t-s,t+(9-s)),{start:i,end:n}}},{key:"getWeekRanges",value:function(e){var t=A.defaults.DATES,a=A.isLeapYear,s=A.getDay(e).value,i=e.split("-"),n=parseInt(i[0],10),r=parseInt(i[1],10),l=parseInt(i[2],10),h=t[r-1],u=n,o=r,c=l-s,d=n,g=r,p=l+(6-s),v=0;return a(n)&&2===r&&(h+=1),c<1&&(o-=1,c=(v=r-2)<0?(u-=1,o=12,t[11]+c):t[v]+c),h<p&&(g+=1,p-=h,11<v&&(d+=1,g=1)),A.getRanges(u+"-"+o+"-"+c,d+"-"+g+"-"+p)}},{key:"getRanges",value:function(e,t){var a,s,i,n=[],r=e.split("-"),l=t.split("-"),h=new Date,u=new Date;for(h.setUTCFullYear(parseInt(r[0],10),parseInt(r[1],10)-1,parseInt(r[2],10)),u.setUTCFullYear(parseInt(l[0],10),parseInt(l[1],10)-1,parseInt(l[2],10)),a=h.getTime(),s=u.getTime(),i=a;i<=s;i+=864e5)n.push(A.getDate(i).text);return n}},{key:"isLeapYear",value:function(e){return(e%4==0||e%400==0)&&e%100!=0}},{key:"isToday",value:function(e){return A.isDatesEqual(e)}},{key:"isDatesEqual",value:function(e,t){var a=A.getDate;return A.isEqual(a(e).text,a(t).text)}},{key:"isEqual",value:function(e,t){var a=A.toAllSupported;return new Date(a(e)).getTime()===new Date(a(t)).getTime()}},{key:"toAllSupported",value:function(e){var t=A.Utils,a=[];return t.isNumber(e)?e:t.isString(e)?(e.indexOf("-")?a=e.split("-"):e.indexOf("/")&&(a=e.split("/")),1===a.length?(a.push("1"),a.push("1")):2===a.length&&(4===a[0].length?a.push("1"):4===data[1].length&&a.unshift("1")),a.join("/")):void 0}}]),A}();return o.defaults={parent:"calendar",time:"",viewMode:0,pickMode:"single",hasSwitcher:!0,hasFooter:!0,hasClock:!0,onDatePick:null,onMonthPick:null,onYearPick:null,onTodayPick:null,MONTHS:[11,12,1,2,3,4,5,6,7,8,9,10,11,12,1,2],DAYS:["日","一","二","三","四","五","六"],DATES:[31,28,31,30,31,30,31,31,30,31,30,31],STYLES:{WRAP:"cal-md",WRAP_WITHOUT_FOOTER:"cal-md-without-footer",HEADER:"cal-hd",TITLE:"cal-title",SWITCHER:"cal-switcher",PREV:"cal-prev",ICON_PREV:"icon-angle-up",NEXT:"cal-next",ICON_NEXT:"icon-angle-down",BODY:"cal-bd",WEEK:"cal-week",WEEKEND:"cal-weekend",DAY:"cal-day",DATES:"cal-dates",DATE:"cal-date",DATE_PREV:"cal-date-prev",DATE_NEXT:"cal-date-next",MONTHS:"cal-months",MONTH:"cal-month",MONTH_PREV:"cal-month-prev",MONTH_NEXT:"cal-month-next",YEARS:"cal-years",YEAR:"cal-year",YEAR_PREV:"cal-year-prev",YEAR_NEXT:"cal-year-next",FOOTER:"cal-ft",FOOTER_DATE:"cal-ft-date",TODAY:"cal-today",FOOTER_TIME:"cal-ft-time",TIME:"cal-time",TEXT:"cal-text",CURRENT:"cal-current",PICKED:"cal-picked",PICKED_RANGE:"cal-picked-range",PICKED_POINT:"cal-picked-point",DISABLED:"cal-disabled",HIDDEN:"cal-hidden"}},o.Utils={uuid:0,isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.apply(e)},isFunction:function(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.apply(e)},isElement:function(e){return e&&e.nodeName&&e.tagName&&1===e.nodeType},guid:function(e){var t=o.Utils;return t.uuid+=1,e?e+"-"+t.uuid:"guid-"+t.uuid},trim:function(e){return e.replace(/^\s+/g,"").replace(/\s+$/g,"")},stripTags:function(e){return e.replace(/<\/?[^>]+(>|$)/g,"")}},o.DOM={createElement:function(e,t,a){var s=o.Utils,i=document.createElement(e);for(var n in t)t.hasOwnProperty(n)&&o.DOM.setAttribute(i,n,t[n]);return s.isArray(a)&&a.forEach(function(e){var t;if(s.isElement(e))t=e;else if(s.isString(e)||s.isNumber(e)){var a=s.isString(e)?s.trim(s.stripTags(e)):e.toString();t=document.createTextNode(a)}i.appendChild(t)}),i},setAttribute:function(e,t,a){var s=e.tagName.toLowerCase();switch(t){case"style":e.style.cssText=a;break;case"value":"input"===s||"textarea"===s?e.value=a:e.setAttribute(t,a);break;case"className":e.className=a;break;default:e.setAttribute(t,a)}},hasClass:function(e,t){var a=e.className;return!!a&&a.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},addClass:function(e,t){var a=e.className;if(o.DOM.hasClass(e,t))return!1;a+=0<a.length?" "+t:t,e.className=a},removeClass:function(e,t){var a=e.className;if(!a||!o.DOM.hasClass(e,t))return!1;a=o.Utils.trim(a.replace(t,"")),e.className=a}},o.Delegate={on:function(s,i,n,r,l,e,h){var u=o.Delegate;return"mouseenter"!==n&&"mouseleave"!==n||(e=!0),r._delegateWrapper=r,s.addEventListener(n,function e(t){var a=u.getDelegateTarget(s,t.target,i);(t.delegateTarget=a)&&(!0===h&&u.off(s,n,e),r.call(l||s,t))},e||!1),r},once:function(e,t,a,s,i,n){o.Delegate.on(e,t,a,s,i,n,!0)},off:function(e,t,a,s){a._delegateWrapper&&delete(a=a._delegateWrapper)._delegateWrapper,"mouseenter"!==t&&"mouseleave"!==t||(s=!0),e.removeEventListener(t,a,s||!1)},stop:function(e){var t=o.Delegate;t.stopPropagation(e),t.preventDefault(e)},stopPropagation:function(e){var t=window.event;e.stopPropagation?e.stopPropagation():t.cancelBubble=!0},preventDefault:function(e){var t=window.event;e.preventDefault?e.preventDefault():t.returnValue=!1},getDelegateTarget:function(e,t,a){for(;t&&t!==e;){if(o.DOM.hasClass(t,a.replace(".","")))return t;t=t.parentElement}return null}},o.Utils.isFunction(Object.assign)||Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(e),s=1;s<arguments.length;s++){var i=arguments[s];if(null!=i)for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(a[n]=i[n])}return a},writable:!0,configurable:!0}),o});
//# sourceMappingURL=calendar.min.js.map
